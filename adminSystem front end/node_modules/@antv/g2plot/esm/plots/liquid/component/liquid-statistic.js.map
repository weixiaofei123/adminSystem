{"version":3,"file":"liquid-statistic.js","sourceRoot":"","sources":["../../../../src/plots/liquid/component/liquid-statistic.ts"],"names":[],"mappings":";AACA,OAAO,aAAiC,MAAM,+BAA+B,CAAC;AAE9E,OAAO,EAAE,WAAW,EAAE,MAAM,sBAAsB,CAAC;AAOnD;IAA2C,iCAAa;IAMtD,uBAAY,GAAmB;QAA/B,YACE,kBAAM,GAAG,CAAC,SAKX;QAJC,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;QACrB,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;QACrB,KAAI,CAAC,cAAc,GAAG,GAAG,CAAC,cAAc,CAAC;QACzC,KAAI,CAAC,aAAa,EAAE,CAAC;;IACvB,CAAC;IAES,0CAAkB,GAA5B;QACQ,IAAA,KAA2B,IAAI,CAAC,IAAI,CAAC,OAAO,EAA1C,aAAS,EAAT,KAAK,mBAAG,CAAC,KAAA,EAAE,SAAS,eAAsB,CAAC;QACnD,IAAI,SAAS,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACnC,OAAO,EAAE,CAAC;SACX;QACD,aAAa;QACb,OAAO,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC3E,CAAC;IAES,qCAAa,GAAvB;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAChC,IAAA,KAAgC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAtD,IAAI,UAAA,EAAE,IAAI,UAAA,EAAE,KAAK,WAAA,EAAE,MAAM,YAA6B,CAAC;QAC/D,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,MAAM,GAAG,CAAC,CAAC;IAC7B,CAAC;IACH,oBAAC;AAAD,CAAC,AA7BD,CAA2C,aAAa,GA6BvD","sourcesContent":["import { View } from '../../../dependents';\nimport StatisticHtml, { IStatisticHtml } from '../../../components/statistic';\nimport Liquid, { LiquidViewConfig } from '../layer';\nimport { getTemplate } from './statistic-template';\n\ninterface IRingStatistic extends IStatisticHtml {\n  view: View;\n  plot: any;\n}\n\nexport default class RingStatistic extends StatisticHtml {\n  protected view: View;\n  protected plot: Liquid;\n  protected statisticClass: string;\n  protected options: LiquidViewConfig['statistic'];\n\n  constructor(cfg: IRingStatistic) {\n    super(cfg);\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    this.statisticClass = cfg.statisticClass;\n    this.adjustOptions();\n  }\n\n  protected getTotalHtmlString(): string {\n    const { value = 0, statistic } = this.plot.options;\n    if (statistic && !statistic.visible) {\n      return '';\n    }\n    /** 中心文本显示 */\n    return getTemplate(this.options.htmlContent(value), this.statisticClass);\n  }\n\n  protected adjustOptions() {\n    this.html = this.getTotalHtmlString();\n    const { minX, minY, width, height } = this.view.coordinateBBox;\n    this.x = minX + width / 2;\n    this.y = minY + height / 2;\n  }\n}\n"]}